(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();Object.defineProperties(Document.prototype,{findOne:{value:document.getElementById.bind(document)},findAll:{value:document.getElementsByClassName.bind(document)}});Object.defineProperty(HTMLElement.prototype,"views",{get(){return this.children}});const g={gridcellDim:64};function R({canvas:t,gridcellDim:e,gridcellMatrix:s}){const n=t.getContext("2d");n.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0),n.clearRect(0,0,n.canvas.width,n.canvas.height);function i(l,c,r=e,f=e){n.beginPath(),n.rect(l,c,r,f),n.strokeStyle="black",n.lineWidth=1,n.stroke()}const o=Math.floor(Number(n.canvas.height/e));return[...new Array(o)].map((l,c)=>1+c).forEach(l=>{s.forEach((c,r)=>{l===1&&i(e*r,0),i(e*r,e*l)})}),!0}function x(t,e,s,n=!0,i=[]){const o=[];e:for(t;t<s+n;t+=e){for(let l of i)if(l==t)continue e;o.push(t)}return o}function P({canvas:t,gridcellDim:e,scalingFactorX:s=2,scalingFactorY:n=2,gridEnabled:i=!0,hitDetectionEnabled:o=!0}){const l=(Number(t.parentElement.getAttribute("readonly:width"))/Number(t.width))**-1,c=(Number(t.parentElement.getAttribute("readonly:height"))/Number(t.height))**-1,r=Math.min(l,c),f=Math.ceil(t.parentElement.clientWidth/e),b=Math.ceil(t.parentElement.clientHeight/e),u=e*s,h=e*n,m=window.screen.orientation.type.includes("portrait")&&i!==!1?"magenta":"green",p=i?(f*e-u*r)/2:(t.parentElement.clientWidth-u*r)/2,w=i?(b*e-h*r)/2:(t.parentElement.clientHeight-h*r)/2,a=t.getContext("2d");a.clearRect(0,0,t.width,t.height),a.fillStyle=m,a.scale(devicePixelRatio,devicePixelRatio),window.screen.orientation.type.includes("portrait")&&i!==!1?a.fillRect((window.innerWidth-u*r)/2,(window.innerHeight-h*r)/2,u*r,h*r):a.fillRect(p,w,u*r,h*r),o&&E({canvas:t,viewConfig:{x:p,y:w,absoluteHeight:h,absoluteWidth:u,size:r,fill:m}})}function E({canvas:t,viewConfig:e}){t.addEventListener("mousemove",s=>{const n={x:t.width/t.getBoundingClientRect().width,y:t.height/t.getBoundingClientRect().height},i=new Path2D;i.rect(e.x,e.y,e.absoluteWidth*e.size,e.absoluteHeight*e.size);const o=(s.clientX-t.getBoundingClientRect().left)*n.x,l=(s.clientY-t.getBoundingClientRect().top)*n.y,c=t.getContext("2d");c.clearRect(0,0,t.width,t.height),c.isPointInPath(i,o,l)?c.fillStyle="red":c.fillStyle=e.fill,c.fillRect(e.x,e.y,e.absoluteWidth*e.size,e.absoluteHeight*e.size)})}const H="placard.js";document.addEventListener("DOMContentLoaded",()=>{document.title=H});const d=globalThis.stage=document.findOne("stage");d.setAttribute("readonly:width",Math.floor(d.clientWidth*window.devicePixelRatio));d.setAttribute("readonly:height",Math.floor(d.clientHeight*window.devicePixelRatio));function y(){d.views.grid.width=d.clientWidth*window.devicePixelRatio,d.views.grid.height=d.clientHeight*window.devicePixelRatio,d.views.rect.width=d.clientWidth*window.devicePixelRatio,d.views.rect.height=d.clientHeight*window.devicePixelRatio,window.requestAnimationFrame(()=>{R({canvas:d.views.grid,gridcellMatrix:x(0,g.gridcellDim,d.views.grid.width),gridcellDim:g.gridcellDim})&&P({canvas:d.views.rect,gridcellDim:g.gridcellDim})})}y();window.addEventListener("resize",y.bind(null,!1));
