(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();Object.defineProperties(Document.prototype,{findOne:{value:document.getElementById.bind(document)},findAll:{value:document.getElementsByClassName.bind(document)}});Object.defineProperty(HTMLElement.prototype,"views",{get(){return this.children}});function W({canvas:t,gridcellDim:e,gridcellMatrix:s}){const n=t.getContext("2d");n.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0),n.clearRect(0,0,n.canvas.width,n.canvas.height);function i(l,o,a=e,g=e){n.beginPath(),n.rect(l,o,a,g),n.strokeStyle="black",n.lineWidth=1,n.stroke()}const r=Math.floor(Number(n.canvas.height/e));return[...new Array(r)].map((l,o)=>1+o).forEach(l=>{s.forEach((o,a)=>{l===1&&i(e*a,0),i(e*a,e*l)})}),!0}function M(t,e,s,n=!0,i=[]){const r=[];e:for(t;t<s+n;t+=e){for(let l of i)if(l==t)continue e;r.push(t)}return r}function O({canvas:t,gridcellDim:e,scalingFactorX:s=2,scalingFactorY:n=2,gridEnabled:i=!0,hitDetectionEnabled:r=!1}){const l={isMobile:window.screen.orientation.type.includes("portrait")&&i!==!1},o=t.parentElement,a=(Number(o.getAttribute("readonly:width"))/Number(t.width))**-1,g=(Number(o.getAttribute("readonly:height"))/Number(t.height))**-1,c=Math.min(a,g),P=Math.ceil(o.clientWidth/e),H=Math.ceil(o.clientHeight/e),h=e*s,u=e*n,m="green",b=i?(P*e-h*c)/2:(o.clientWidth-h*c)/2,p=i?(H*e-u*c)/2:(o.clientHeight-u*c)/2,f=t.getContext("2d");if(f.clearRect(0,0,t.width,t.height),f.fillStyle=m,f.scale(devicePixelRatio,devicePixelRatio),l.isMobile){let[w,y]=[(o.clientWidth-h*c)/2,(o.clientHeight-u*c)/2];f.fillRect(w,y,h*c,u*c)}else f.fillRect(b,p,h*c,u*c);if(r)if(l.isMobile){let[w,y]=[(o.clientWidth-h*c)/2,(o.clientHeight-u*c)/2];x({canvas:t,viewConfig:{x:w,y,absoluteHeight:u,absoluteWidth:h,size:c,fill:m}})}else x({canvas:t,viewConfig:{x:b,y:p,absoluteHeight:u,absoluteWidth:h,size:c,fill:m}})}function x({canvas:t,viewConfig:e}){t.addEventListener("mousemove",s=>{const n={x:t.width/t.getBoundingClientRect().width,y:t.height/t.getBoundingClientRect().height},i=new Path2D;i.rect(e.x,e.y,e.absoluteWidth*e.size,e.absoluteHeight*e.size);const r=(s.clientX-t.getBoundingClientRect().left)*n.x,l=(s.clientY-t.getBoundingClientRect().top)*n.y,o=t.getContext("2d");o.clearRect(0,0,t.width,t.height),o.isPointInPath(i,r,l)?o.fillStyle="red":o.fillStyle=e.fill,o.fillRect(e.x,e.y,e.absoluteWidth*e.size,e.absoluteHeight*e.size)})}const L="placard.js";document.addEventListener("DOMContentLoaded",()=>{document.title=L});const d=document.findOne("stage");d.setAttribute("readonly:width",Math.floor(d.clientWidth*window.devicePixelRatio));d.setAttribute("readonly:height",Math.floor(d.clientHeight*window.devicePixelRatio));function R(){let t={stageWidth:d.clientWidth*window.devicePixelRatio,stageHeight:d.clientHeight*window.devicePixelRatio};d.views.grid.width=t.stageWidth,d.views.grid.height=t.stageHeight,d.views.rect.width=t.stageWidth,d.views.rect.height=t.stageHeight,window.requestAnimationFrame(()=>{let e={gridcellDim:Math.floor(window.innerWidth,window.innerHeight)/20};W({canvas:d.views.grid,gridcellMatrix:M(0,e.gridcellDim,d.views.grid.width),gridcellDim:e.gridcellDim})&&O({canvas:d.views.rect,gridcellDim:e.gridcellDim})})}R();window.addEventListener("resize",R);
