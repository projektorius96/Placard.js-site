(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function s(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(t){if(t.ep)return;t.ep=!0;const n=s(t);fetch(t.href,n)}})();const m={gridcellDim:64};function E({canvas:e,gridcellDim:i,gridcellMatrix:s}){const o=e.getContext("2d");o.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0),o.clearRect(0,0,o.canvas.width,o.canvas.height);function t(r,l,u=i,g=i){o.beginPath(),o.rect(r,l,u,g),o.strokeStyle="black",o.lineWidth=1,o.stroke()}const n=Math.floor(Number(o.canvas.height/i));return[...new Array(n)].map((r,l)=>1+l).forEach(r=>{s.forEach((l,u)=>{r===1&&t(i*u,0),t(i*u,i*r)})}),!0}function b(e,i,s,o=!0,t=[]){const n=[];e:for(e;e<s+o;e+=i){for(let r of t)if(r==e)continue e;n.push(e)}return n}function B({canvas:e,gridcellDim:i,scalingFactorX:s=2,scalingFactorY:o=2}){const t=Math.ceil(e.parentElement.clientWidth/i),n=Math.ceil(e.parentElement.clientHeight/i),r=i*s,l=i*o,u=(Number(e.parentElement.getAttribute("readonly:width"))/Number(e.width))**-1,g=(Number(e.parentElement.getAttribute("readonly:height"))/Number(e.height))**-1,h=Math.min(u,g),a=(t*i-r*h)/2,f=(n*i-r*h)/2,c=e.getContext("2d");c.clearRect(0,0,e.width,e.height),c.fillStyle="green",c.scale(devicePixelRatio,devicePixelRatio),c.fillRect(a,f,r*h,l*h),e.addEventListener("mousemove",w=>{const y={x:e.width/e.getBoundingClientRect().width,y:e.height/e.getBoundingClientRect().height},p=new Path2D;p.rect(a,f,r*h,l*h);const P=(w.clientX-e.getBoundingClientRect().left)*y.x,x=(w.clientY-e.getBoundingClientRect().top)*y.y;c.clearRect(0,0,e.width,e.height),c.isPointInPath(p,P,x)?c.fillStyle="red":c.fillStyle="green",c.fillRect(a,f,r*h,l*h)})}const I="placard.js";document.addEventListener("DOMContentLoaded",()=>{document.title=I});const d=document.getElementById("stage");d.setAttribute("readonly:width",Math.floor(d.clientWidth*window.devicePixelRatio));d.setAttribute("readonly:height",Math.floor(d.clientHeight*window.devicePixelRatio));function R(){document.getElementById(d.children.grid.id).width=d.clientWidth*window.devicePixelRatio,document.getElementById(d.children.grid.id).height=d.clientHeight*window.devicePixelRatio,document.getElementById(d.children.rect.id).width=d.clientWidth*window.devicePixelRatio,document.getElementById(d.children.rect.id).height=d.clientHeight*window.devicePixelRatio,window.requestAnimationFrame(()=>{E({canvas:document.getElementById(d.children.grid.id),gridcellMatrix:b(0,m.gridcellDim,document.getElementById(d.children.grid.id).width),gridcellDim:m.gridcellDim})&&B({canvas:document.getElementById(d.children.rect.id),gridcellDim:m.gridcellDim})})}R();window.addEventListener("resize",R);
