var A=e=>{throw TypeError(e)};var D=(e,t,r)=>t.has(e)||A("Cannot "+r);var N=(e,t,r)=>(D(e,t,"read from private field"),r?r.call(e):t.get(e)),_=(e,t,r)=>t.has(e)?A("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();class O{static draw({canvas:t,options:r}){t.style.cssText=`
            opacity: ${r.opacity||1};
        `;let o=stage.grid.GRIDCELL_DIM;const n=k(0,o,t.width),i=t.getContext("2d");i.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0),i.clearRect(0,0,i.canvas.width,i.canvas.height);function a(s,d,u=o,f=o){i.beginPath(),i.rect(s,d,u,f),i.strokeStyle="black",i.lineWidth=2,i.stroke()}const h=Math.ceil(i.canvas.clientHeight/o);return[...new Array(h)].map((s,d)=>1+d).forEach(s=>{n.forEach((d,u)=>{s===1&&a(o*u,0),a(o*u,o*s)})}),!0}}function k(e,t,r,o=!0,n=[]){const i=[];e:for(e;e<r+o;e+=t){for(let a of n)if(a==e)continue e;i.push(e)}return i}class W{static draw({canvas:t,options:r={scalingFactorX:1,scalingFactorY:1},on:o=!1}){const n=t.parentElement;let i=n.grid.GRIDCELL_DIM,a=(Number(n.getAttribute("readonly:width"))/Number(t.width))**-1,h=(Number(n.getAttribute("readonly:height"))/Number(t.height))**-1,s=Math.min(a,h),d=i*r.scalingFactorX*s**-1,u=i*r.scalingFactorY*s**-1,f=Math.ceil(n.clientWidth/i),g=Math.ceil(n.clientHeight/i),E=d*s,b=u*s,M=(f*i-E)/2,P=(g*i-b)/2;const l=new Path2D;l.type="rect",l.fillStyle=r.fillStyle,l.x=M,l.y=P,l.show=!0,l.rect(0,0,d*s,u*s);const c=t.getContext("2d");return c.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0),c.fillStyle=l.fillStyle,c.save(),typeof o=="function"?o({path:l})&&c.fill(l):c.fill(l),c.restore(),l}}var R,L;class y{static draw({canvas:t,options:r,on:o=Function}){const n=t.parentElement;let i=n.grid.GRIDCELL_DIM,a=(Number(n.getAttribute("readonly:width"))/Number(t.width))**-1,h=(Number(n.getAttribute("readonly:height"))/Number(t.height))**-1,s=Math.min(a,h),d=i*(r.scalingFactorXY||1)*s**-1,u=i*(r.scalingFactorXY||1)*s**-1,f=Math.ceil(n.clientWidth/i),g=Math.ceil(n.clientHeight/i),E=d*s,b=u*s,M=f*i/2,P=g*i/2;const l=new Path2D;l.type="line",l.strokeStyle=r.strokeStyle,l.lineWidth=r.lineWidth,l.x=M,l.y=P,l.show=!0;const c=t.getContext("2d");return c.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0),c.beginPath(),c.strokeStyle=l.strokeStyle,c.lineWidth=l.lineWidth,r.offset?(l.moveTo(0+r.offset.POS_X||0,0+r.offset.POS_Y||0),l.lineTo((0+r.offset.POS_X||0)+E*r.offset.COS_ANGLE,(0+r.offset.POS_Y||0)+b*r.offset.SIN_ANGLE)):(l.moveTo(0,0),l.lineTo(0+E*N(this,R),0+b*N(this,L))),c.save(),typeof o=="function"?o({path:l})&&c.stroke(l):c.stroke(l),c.restore(),l}}R=new WeakMap,L=new WeakMap,_(y,R,Math.cos(0)),_(y,L,Math.sin(0));function I(e,t=0,r=0){const o=window.devicePixelRatio,n=Math.cos(e),i=Math.sin(e);let a=n,h=i,s=-i;return[a,h,s,n,t,r].map(g=>g=g*o)}function T(e){return e*(Math.PI/180)}const v=20,x="pointermove",G=1/Math.sin(Math.PI/4),m={CURRENT_ANGLE:-45},w=new Tweakpane.Pane;w.addBlade({view:"slider",label:"angle",min:0,max:360,value:m.CURRENT_ANGLE});w.on("change",e=>{requestAnimationFrame(()=>{m.CURRENT_ANGLE=Math.floor(e.value)})});function F({canvas:e,context:t,cursor:r}){switch(window.screen.orientation.type.includes("portrait")?w.element.parentElement.style.cssText=`
            top: unset !important;
            bottom: 0 !important;
            right: 0 !important;
        `:w.element.parentElement.style.cssText=getComputedStyle(w.element),e.id){case"grid":t.stack=[O.draw({canvas:e,options:{opacity:.25}})];break;case"right-triangle":t.stack=[W.draw({canvas:e,options:{scalingFactorX:.25,scalingFactorY:.25,fillStyle:"black"},on:function({path:o}){return p("rotation-about-origin",{context:t,path:o,GUI_STUB:m}),o.show}}),y.draw({canvas:e,options:{strokeStyle:"red",lineWidth:4,scalingFactorXY:3,offset:{COS_ANGLE:Math.cos(0),SIN_ANGLE:Math.sin(0)}},on:function({path:o}){return p("rotation-about-origin",{context:t,path:o,GUI_STUB:m}),o.show}}),y.draw({canvas:e,options:{strokeStyle:"green",lineWidth:4,scalingFactorXY:3,offset:{POS_X:stage.grid.GRIDCELL_DIM*3,POS_Y:0,COS_ANGLE:Math.cos(Math.PI/2),SIN_ANGLE:-Math.sin(Math.PI/2)}},on:function({path:o}){return p("rotation-about-origin",{context:t,path:o,GUI_STUB:m}),o.show}}),y.draw({canvas:e,options:{strokeStyle:"blue",lineWidth:4,scalingFactorXY:3,offset:{COS_ANGLE:Math.cos(Math.PI/4)*G,SIN_ANGLE:-Math.sin(Math.PI/4)*G}},on:function({path:o}){return p("rotation-about-origin",{context:t,path:o,GUI_STUB:m}),t.isPointInStroke(o,r.x,r.y)?t.strokeStyle="coral":t.strokeStyle=o.strokeStyle,o.show}})];break}}function p(e,{context:t,path:r,GUI_STUB:o}){switch(e){case"rotation-about-origin":return Y({context:t,path:r,GUI_STUB:o})}}function Y({context:e,path:t,GUI_STUB:r}){switch(t.type){case"rect":e.setTransform(...I(T(0),t.x,t.y));break;case"line":e.setTransform(...I(T(r.CURRENT_ANGLE),t.x,t.y));break}return!0}const S="layers";Object.defineProperties(HTMLElement.prototype,{[S]:{get(){return this.children}}});function H({stage:e,options:t}){e.grid={GRIDCELL_DIM:e.clientWidth/U(t.GRIDCELL_DIM_RATIO)};const r={stageWidth:(e==null?void 0:e.clientWidth)*window.devicePixelRatio,stageHeight:(e==null?void 0:e.clientHeight)*window.devicePixelRatio};return e[S].length>0&&Array.from(e[S]).forEach(o=>{o.width=r.stageWidth,o.height=r.stageHeight}),!0}function X(e){if(!Array.isArray(e))return Array.from(e)}function U(e=0){const t=Math.ceil(e);return t%2===1?t+1:t}function C(e){return window.requestAnimationFrame(()=>{H({stage:e,options:{GRIDCELL_DIM_RATIO:v}})&&X(e.layers).forEach(t=>{document.addEventListener(x,r=>{const o=t.getContext("2d");o.clearRect(0,0,t.width,t.height);const n={x:t.width/t.getBoundingClientRect().width,y:t.height/t.getBoundingClientRect().height},i={x:(r.clientX-t.getBoundingClientRect().left)*n.x,y:(r.clientY-t.getBoundingClientRect().top)*n.y};F({canvas:t,context:o,cursor:i})}),document.dispatchEvent(new Event(x))})}),!0}const B="placard.js",j="0.0.2",q="module",z={vite:"^5.4.0"},V={name:B,version:j,type:q,devDependencies:z};document.addEventListener("DOMContentLoaded",()=>{document.title=V.name;const e=document.getElementById("stage");e?(e.setAttribute("readonly:width",Math.floor(e.clientWidth*window.devicePixelRatio)),e.setAttribute("readonly:height",Math.floor(e.clientHeight*window.devicePixelRatio)),C(e),window.addEventListener("resize",C.bind(null,e))):console.warn('Make sure you have declared %c"stage" in your %c"index.html" entry file',"font-style: italic;","font-style: italic;")});
