(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function d(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=d(i);fetch(i.href,o)}})();Object.defineProperties(Document.prototype,{findOne:{value:document.getElementById.bind(document)},findAll:{value:document.getElementsByClassName.bind(document)}});Object.defineProperty(HTMLElement.prototype,"views",{get(){return this.children}});const m={gridcellDim:64};function P({canvas:e,gridcellDim:t,gridcellMatrix:d}){const n=e.getContext("2d");n.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0),n.clearRect(0,0,n.canvas.width,n.canvas.height);function i(r,c,u=t,s=t){n.beginPath(),n.rect(r,c,u,s),n.strokeStyle="black",n.lineWidth=1,n.stroke()}const o=Math.floor(Number(n.canvas.height/t));return[...new Array(o)].map((r,c)=>1+c).forEach(r=>{d.forEach((c,u)=>{r===1&&i(t*u,0),i(t*u,t*r)})}),!0}function b(e,t,d,n=!0,i=[]){const o=[];e:for(e;e<d+n;e+=t){for(let r of i)if(r==e)continue e;o.push(e)}return o}function H({canvas:e,gridcellDim:t,scalingFactorX:d=2,scalingFactorY:n=2,gridEnabled:i=!0,hitDetectionEnabled:o=!0,isMobile:r}){r&&i!==!1?i=!i:i=i;const c=(Number(e.parentElement.getAttribute("readonly:width"))/Number(e.width))**-1,u=(Number(e.parentElement.getAttribute("readonly:height"))/Number(e.height))**-1,s=Math.min(c,u),x=Math.ceil(e.parentElement.clientWidth/t),R=Math.ceil(e.parentElement.clientHeight/t),h=t*d,a=t*n,p=r?"blue":"green",w=i?(x*t-h*s)/2:(e.parentElement.clientWidth-h*s)/2,y=i?(R*t-a*s)/2:(e.parentElement.clientHeight-a*s)/2,f=e.getContext("2d");f.clearRect(0,0,e.width,e.height),f.fillStyle=p,f.scale(devicePixelRatio,devicePixelRatio),f.fillRect(w,y,h*s,a*s),o&&O({canvas:e,viewConfig:{x:w,y,absoluteHeight:a,absoluteWidth:h,size:s,fill:p}})}function O({canvas:e,viewConfig:t}){e.addEventListener("mousemove",d=>{const n={x:e.width/e.getBoundingClientRect().width,y:e.height/e.getBoundingClientRect().height},i=new Path2D;i.rect(t.x,t.y,t.absoluteWidth*t.size,t.absoluteHeight*t.size);const o=(d.clientX-e.getBoundingClientRect().left)*n.x,r=(d.clientY-e.getBoundingClientRect().top)*n.y,c=e.getContext("2d");c.clearRect(0,0,e.width,e.height),c.isPointInPath(i,o,r)?c.fillStyle="red":c.fillStyle=t.fill,c.fillRect(t.x,t.y,t.absoluteWidth*t.size,t.absoluteHeight*t.size)})}const L="placard.js";document.addEventListener("DOMContentLoaded",()=>{document.title=L});const l=globalThis.stage=document.findOne("stage");l.setAttribute("readonly:width",Math.floor(l.clientWidth*window.devicePixelRatio));l.setAttribute("readonly:height",Math.floor(l.clientHeight*window.devicePixelRatio));function g(e){l.views.grid.width=l.clientWidth*window.devicePixelRatio,l.views.grid.height=l.clientHeight*window.devicePixelRatio,l.views.rect.width=l.clientWidth*window.devicePixelRatio,l.views.rect.height=l.clientHeight*window.devicePixelRatio,window.requestAnimationFrame(()=>{P({canvas:l.views.grid,gridcellMatrix:b(0,m.gridcellDim,l.views.grid.width),gridcellDim:m.gridcellDim})&&H({canvas:l.views.rect,gridcellDim:m.gridcellDim,isMobile:e})})}g();window.screen.orientation.type.includes("portrait")&&g(!0);window.addEventListener("resize",g.bind(null,!1));
