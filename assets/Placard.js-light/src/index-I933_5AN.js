var a=Object.defineProperty;var p=(i,e,t)=>e in i?a(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var o=(i,e,t)=>p(i,typeof e!="symbol"?e+"":e,t);import s from"./views/grid-C3_pIFsw.js";import f from"./views/line-BU_oELOD.js";import w from"./views/wireframe-ZslARDmi.js";import{stage_view as v}from"./views/stage-view/index-BxfduNAX.js";import{layer_view as I}from"./views/layer-view/index-ClP88ZXy.js";import{getIterable as R}from"./utils-WIadh3pX.js";import{setRange as _,setAngle as D,degToRad as M}from"./trigonometry-CAQo95kv.js";class m{static getResponsiveRatio({context:e}){let t=e==null?void 0:e.canvas,n=(Number(stage==null?void 0:stage.getAttribute("readonly:width"))/Number(t.width))**-1,d=(Number(stage==null?void 0:stage.getAttribute("readonly:height"))/Number(t.height))**-1;return Math.min(n,d)}static init({stage:e}){if(b({stage:e}))return R(e.layers).map(t=>t=t.getContext("2d"))}}o(m,"ViewGroup",{Stage:customElements.get(v),Layer:customElements.get(I)}),o(m,"Views",{Grid:s,Line:f,Wireframe:w}),o(m,"Helpers",{Misc:{setRange:_},Trigonometry:{setAngle:D,degToRad:M}});function b({stage:i}){const e=(r=0)=>{const l=Math.ceil(r);return l%2===1?l+1:l};let t=i.clientWidth/e(i.scale),n=Math.ceil((i==null?void 0:i.clientWidth)/t),d=Math.ceil((i==null?void 0:i.clientHeight)/t),h=n*t/2,u=d*t/2;i.grid={GRIDCELL_DIM:t,X_IN_MIDDLE:h*window.devicePixelRatio,Y_IN_MIDDLE:u*window.devicePixelRatio};const c={stageWidth:(i==null?void 0:i.clientWidth)*window.devicePixelRatio,stageHeight:(i==null?void 0:i.clientHeight)*window.devicePixelRatio};return i.children.length>0&&Array.from(i.children).forEach(r=>{r.width=c.stageWidth,r.height=c.stageHeight}),!0}export{m as default};
