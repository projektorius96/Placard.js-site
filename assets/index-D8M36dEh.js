var Z=Object.defineProperty;var I=t=>{throw TypeError(t)};var ee=(t,e,i)=>e in t?Z(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var E=(t,e,i)=>ee(t,typeof e!="symbol"?e+"":e,i),A=(t,e,i)=>e.has(t)||I("Cannot "+i);var g=(t,e,i)=>(A(t,e,"read from private field"),i?i.call(t):e.get(t)),b=(t,e,i)=>e.has(t)?I("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i);var O=(t,e,i)=>(A(t,e,"access private method"),i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}})();const k="layers";Object.defineProperties(HTMLElement.prototype,{[k]:{get(){return this.children}},add:{value:function(t){this.append(...t)}}});Object.defineProperties(Array.prototype,{on:{value:Array.prototype.forEach}});Object.defineProperties(Function.prototype,{value:{get(){return this.name}}});function te({stage:t,stageScale:e}){t.grid={GRIDCELL_DIM:t.clientWidth/ne(e)};const i={stageWidth:(t==null?void 0:t.clientWidth)*window.devicePixelRatio,stageHeight:(t==null?void 0:t.clientHeight)*window.devicePixelRatio};return t[k].length>0&&Array.from(t[k]).forEach(s=>{s.width=i.stageWidth,s.height=i.stageHeight}),!0}function ie(t){if(!Array.isArray(t))return Array.from(t)}function ne(t=0){const e=Math.ceil(t);return e%2===1?e+1:e}const se=t=>Object.keys(t).flat();function re(t){const e=window.devicePixelRatio,i=Math.cos(N(t)),s=Math.sin(N(t));let n=i,r=s,o=-s;return[n,r,o,i].map(c=>c=c*e)}function N(t){return t*(Math.PI/180)}function oe(){const t=new CSSStyleSheet;return t.insertRule(`
        :root {
            --vertical-scrollbar-width: calc(100vw - 100%);
        }
    `),t.insertRule(`
        body,
        body * {
            box-sizing: border-box;
        }
    `),t.insertRule(`
        body {
            padding: 0;
            margin: 0;
        }
    `),document.adoptedStyleSheets.push(t),this.style.cssText=`
        display: block;
        width: calc( 100vw - var(--vertical-scrollbar-width) );
        height: 100vh;
        position: relative;
        top: 0px;
        left: 0px;
        `,!0}const _="stage-view";customElements.define(_,class extends HTMLDivElement{constructor({container:t=document.body,id:e="stage"}){return oe.call(super()),this.id=e,t!==document.body?t.prepend(this):document.body.prepend(this),this}connectedCallback(){this.setAttribute("readonly:width",Math.floor(this.clientWidth*window.devicePixelRatio)),this.setAttribute("readonly:height",Math.floor(this.clientHeight*window.devicePixelRatio))}},{extends:"div"});function le({opacity:t,hidden:e}){return this.style.cssText=`
        display: inherit;
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0px;
        left: 0px;
        background: transparent;
        opacity: ${t||1};
        visibility:  ${(e?"hidden":!1)||"visible"};
        `,!0}const U="layer-view";customElements.define(U,class extends HTMLCanvasElement{constructor({name:t,opacity:e,hidden:i,transform:s=[devicePixelRatio,0,0,devicePixelRatio]}){le.call(super(),{opacity:e,hidden:i})&&(this.name=t,this.id=this.name,this.stack=[],this.transform=s)}connectedCallback(){const e=[...this.transform].slice(0,4);Object.assign(this.getContext("2d"),{setTransformation({translateX:i=0,translateY:s=0}){if(this.global.options.ejectXY)this.setTransform(...e,i,s);else{let n=stage.grid.GRIDCELL_DIM,r=Math.ceil(stage.clientWidth/n),o=Math.ceil(stage.clientHeight/n),l=r*n/2,c=o*n/2;[i,s]=[l,c],this.setTransform(...e,i*window.devicePixelRatio,s*window.devicePixelRatio)}return!0},fillStroke(){this.fill(),this.stroke()}})}},{extends:"canvas"});class ae{static draw({canvas:e,options:i}){let s=stage.grid.GRIDCELL_DIM,n=ce(0,s,e.width);const r=e.getContext("2d");r.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0),r.clearRect(0,0,r.canvas.width,r.canvas.height);function o(c,a,d=s,y=s){r.beginPath(),r.rect(c,a,d,y),r.lineWidth=i.lineWidth||r.global.options.lineWidth,r.strokeStyle=i.strokeStyle||r.global.options.strokeStyle,r.stroke()}const l=Math.ceil(r.canvas.clientHeight/s);return[...new Array(l)].map((c,a)=>1+a).forEach(c=>{n.forEach((a,d)=>{c===1&&o(s*d,0),o(s*d,s*c)})}),i.kind="grid",i}}function ce(t,e,i,s=!0,n=[]){const r=[];e:for(t;t<i+s;t+=e){for(let o of n)if(o==t)continue e;r.push(t)}return r}var w,S,L,T,j;const f=class f{static draw({canvas:e,options:i}){var D;const s=e.parentElement,n=e.getContext("2d");let r=(Number(s.getAttribute("readonly:width"))/Number(e.width))**-1,o=(Number(s.getAttribute("readonly:height"))/Number(e.height))**-1,l=Math.min(r,o),c=s.grid.GRIDCELL_DIM,a=c*(i.scalingFactorXY||n.global.options.scalingFactorXY||1)*l**-1,d=c*(i.scalingFactorXY||n.global.options.scalingFactorXY||1)*l**-1,y=i.isRightAngle?a*l*g(this,L):a*l,M=i.isRightAngle?d*l*g(this,L):d*l;if(n.kind=i.kind||"line",n.lineWidth=i.lineWidth||n.global.options.lineWidth,n.strokeStyle=i.strokeStyle||n.global.options.strokeStyle,n.save(),n.setTransformation({})&&(D=i.overrides)!=null&&D.transform){let J=Q=>Q*(Math.PI/180);n.rotate(J(i.overrides.transform.angle))}let[h,m,v,q]=[i.offsetX||0,i.offsetY||0,M,y];return n.beginPath(),n.moveTo(h,m),n.lineTo(h+(i.angleX||g(this,w))*y,m+(i.angleY||g(this,S))*M),n.fillStroke(),i.kind===this.ENUMS.KIND.vector.value&&O(this,T,j).call(this,{context:n,options:{fromX:h,fromY:m,toX:v,toY:q,size:l,offsetX:i.offsetX||0,offsetY:i.offsetY||0,angleX:i.angleX||g(this,w),angleY:i.angleY||g(this,S)}}),n.restore(),i}};w=new WeakMap,S=new WeakMap,L=new WeakMap,T=new WeakSet,j=function({context:e,options:i,arrowLength:s=20,arrowAngle:n=Math.PI/6}){const[r,o,l,c,a]=[i.fromX,i.fromY,i.toX,i.toY,i.size];return s*=a,e.save(),e.globalCompositeOperation="source-over",e.translate(l*i.angleX+i.offsetX,c*i.angleY+i.offsetY),e.beginPath(),e.moveTo(0,0),e.lineTo(-s*Math.cos(n),-s*Math.sin(n)),e.lineTo(-s*Math.cos(n),s*Math.sin(n)),e.closePath(),e.strokeStyle=i.strokeStyle,e.fillStyle=e.strokeStyle,e.fillStroke(),e.restore(),!0},b(f,T),b(f,w,Math.cos(0)),b(f,S,Math.sin(0)),b(f,L,1/Math.sin(Math.PI/4)),E(f,"ENUMS",{KIND:{line(){},vector(){}}}),Object.freeze(f.ENUMS.KIND);let R=f;const p=class p{static init({stage:e,stageScale:i}){if(te({stage:e,stageScale:i}))return ie(e.layers).map(s=>s=s.getContext("2d"))}};E(p,"ViewGroup",{Stage:customElements.get(_),Layer:customElements.get(U)}),E(p,"Views",{Grid:ae,Line:R}),E(p,"Helpers",{Trigonometry:{setAngle:re}}),E(p,"ENUMS",{enumify:se,COLORS:{red(){},green(){},blue(){}}}),Object.freeze(p.ENUMS.COLORS);let u=p;EventTarget.prototype.on=EventTarget.prototype.addEventListener;EventTarget.prototype.rm=EventTarget.prototype.removeEventListener;EventTarget.prototype.send=EventTarget.prototype.dispatchEvent;HTMLElement.extends=t=>{var e;return(e=/HTML(.+)Element/.exec(t==null?void 0:t.name))==null?void 0:e[1].toLowerCase()};function de({container:t,opacity:e,position:i="left",minWidth:s=15}){return this.style.cssText=`
            user-select: none;
            position: absolute;
                z-index:999;
            justify-self: ${(t.style.display="grid")&&i};
            min-width: ${s}%;
            border: 2px solid black;
            border-radius: 0.5em;
            padding: 0.5em;
            background-color: #d8d8d8;
            opacity: ${e};
        `,window.addEventListener("resize",()=>{window.screen.orientation.type.includes("portrait")?(this.style.minWidth="100%",this.style.bottom="0px"):(this.style.minWidth=`${s}%`,this.style.bottom="unset")}),!0}const F="wc-pane";customElements.define(F,class extends HTMLElement{constructor({container:t,position:e,minWidth:i,draggable:s=!1,opacity:n=.75}){return super(),de.call(this,{container:t,position:e,minWidth:i,opacity:n}),s&&ue(this),t!==document.body?t.prepend(this):document.body.prepend(this),this}find({name:t,index:e=0}){return document.getElementsByName(t).item(e)}addSection({sectionCount:t=1,accessor:e="child",flex_direction:i="column"}){return Array.from({length:t}).map(()=>document.createElement("section")).map((s,n)=>(s.style.cssText=`
                    display: flex;
                    flex-direction: ${i};
                    padding: 4px;
                `,s.setAttribute("id",`${e}${e!=="parent"?n+1:""}`),s.setAttribute("name",`${e}${e!=="parent"?n+1:""}`),s))}addGroup({name:t,override_label:e="",nodes:i=[],open:s=!1}){const n=new CSSStyleSheet;n.replaceSync(`
                    summary::marker {
                        content: "✅";
                    }

                    summary.open::marker {
                        content: "❎";
                    }
                `);const r=document.createElement("summary");r.id=e||t,r.textContent=r.id;const o=document.createElement("details");if(o.appendChild(r),o.name=t,o.open=s,r.classList.toggle("open",o.open),o.addEventListener("toggle",()=>{r.classList.toggle("open",o.open)}),!o.append(...i))return!this.append(o)&&document.adoptedStyleSheets.push(n),{name:t}}});function ue(t){let e=null;function i(r){e.style.left=`${r.pageX}px`,e.style.top=`${r.pageY}px`}function s(){document.rm("mousemove",i),e=null}function n(r){e===null&&(e=r.currentTarget);const{altKey:o}=r;o&&(r.preventDefault(),document.on("mousemove",i))}t.on("mousedown",n),document.on("mouseup",s)}function he(t,e){switch(this.style.width="100%",this.style.margin=0,this.style.padding=0,t){case"text":this.style.backgroundColor="#F7F7F7";break;case"checkbox":this.style.transform=`scale(${(e==null?void 0:e.cboxScaling)||1.24})`;break}return!0}const V="wc-input";var Y;customElements.define(V,class extends HTMLInputElement{constructor({name:t,type:e,attrs:i}){return super(),he.call(this,e,i)&&(me(this,i),this.name=t||e,this.type=e||"range"),this}},{extends:(Y=HTMLElement.extends)==null?void 0:Y.call(HTMLElement,HTMLInputElement)});function me(t,e){for(let i in e)t.setAttribute(i,e[i])}const z="wc-select";var X;customElements.define(z,class extends HTMLSelectElement{constructor({name:t,attrs:e}){super(),this.style.width="100%",this.name=t,(e==null?void 0:e.loopData[1].length)>0&&[...e.loopData[1]].forEach((i,s)=>{const n=e.loopData[1];e.loopData[0].call(this,i,s,n)})}},{extends:(X=HTMLElement.extends)==null?void 0:X.call(HTMLElement,HTMLSelectElement)});const K="wc-label";var G;customElements.define(K,class extends HTMLLabelElement{constructor(t=""){return super(),this.style.cssText=`
            width: 100%;
            text-align: center;
        `,this.textContent=String(t),this}},{extends:(G=HTMLElement.extends)==null?void 0:G.call(HTMLElement,HTMLLabelElement)});const fe="modulepreload",ge=function(t,e){return new URL(t,e).href},P={},pe=function(e,i,s){let n=Promise.resolve();if(i&&i.length>0){const o=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=Promise.allSettled(i.map(a=>{if(a=ge(a,s),a in P)return;P[a]=!0;const d=a.endsWith(".css"),y=d?'[rel="stylesheet"]':"";if(!!s)for(let m=o.length-1;m>=0;m--){const v=o[m];if(v.href===a&&(!d||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${y}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":fe,d||(h.as="script"),h.crossOrigin="",h.href=a,c&&h.setAttribute("nonce",c),document.head.appendChild(h),d)return new Promise((m,v)=>{h.addEventListener("load",m),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})}))}function r(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&r(l.reason);return e().catch(r)})};function ye(t){this.style.cssText=`
        display: flex;
        flex-direction: column;
        width: 100%;
        margin: 0;
        padding: 0;
        list-style-type: none;
    `;const e=new CSSStyleSheet;return e.insertRule(t.cssRuleOverride||`
            ${this.tagName.toLowerCase()} > ul, ol {
                margin: 0;
                padding: 0;
                text-align: center;
            }
        `),e}const B="wc-list";var W;customElements.define(B,class extends HTMLLIElement{constructor({name:t,attrs:e={}}){var i;super(),document&&document.adoptedStyleSheets.push(ye.call(this,e)),this.name=t,((i=e.loopData[1])==null?void 0:i.length)>0&&[...e.loopData[1]].forEach((s,n)=>{e.loopData[0].call(this,s,n)}),e.sortableConfig&&pe(async()=>{const{Sortable:s}=await import("./sortable.esm-fG3BxvUN.js");return{Sortable:s}},[],import.meta.url).then(({Sortable:s})=>{s.create(this,{...e.sortableConfig})})}},{extends:(W=HTMLElement.extends)==null?void 0:W.call(HTMLElement,HTMLLIElement)});const ve=customElements.get(F),Ee=customElements.get(K),C=customElements.get(V);C.Select=customElements.get(z);C.List=customElements.get(B);function be(t){return Object.assign(t,{global:{options:{ejectXY:!1,lineWidth:4,strokeStyle:"magenta",scalingFactorXY:3}}}),!0}const we=30,x=new ve({container:document.body,draggable:!1}),$=x.find(x.addGroup({name:"slider",nodes:x.addSection({sectionCount:1,accessor:"slot",flex_direction:"row"})}));$.children.slot1.append(new Ee("rotation"),new C({name:$.name,attrs:{value:we,min:0,max:360,step:1}}));const Se="placard.js",Le="0.0.1",xe="module",Te={vite:"^5.4.11"},Me={name:Se,version:Le,type:xe,devDependencies:Te};document.addEventListener("DOMContentLoaded",()=>{document.title=Me.name;const t=new u.ViewGroup.Stage({});if(t){const e=x.find({name:"slider",index:1});e.on("input",i=>{let[s,n]=[-1,1],r=s*Math.floor(i.target.value);t.replaceChildren()||t.add([new u.ViewGroup.Layer({name:"grid",opacity:.5,hidden:!1}),new u.ViewGroup.Layer({name:"right_triangle",transform:[...u.Helpers.Trigonometry.setAngle(r)]})]),window.dispatchEvent(new Event("resize"))}),e.dispatchEvent(new Event("input")),H(t)&&window.addEventListener("resize",H.bind(null,t))}});function H(t){let{blue:e,red:i,green:s}=u.ENUMS.COLORS,{line:n,vector:r}=u.Views.Line.ENUMS.KIND;return u.init({stage:t,stageScale:20}).on(o=>{if(be(o)){let l=o.canvas;switch(l.name){case t.layers.grid.name:l.stack=[u.Views.Grid.draw({canvas:l,options:{lineWidth:2,strokeStyle:"darkgrey"}})];break;case t.layers.right_triangle.name:o.globalCompositeOperation="destination-over",l.stack=[u.Views.Line.draw({canvas:l,options:{kind:r.value,strokeStyle:i.value}}),u.Views.Line.draw({canvas:l,options:{kind:r.value,strokeStyle:s.value,isRightAngle:!0,overrides:{transform:{angle:-45}}}}),u.Views.Line.draw({canvas:l,options:{kind:r.value,strokeStyle:e.value,offsetY:t.grid.GRIDCELL_DIM*3,overrides:{transform:{angle:-90}}}})];break}}}),!0}
